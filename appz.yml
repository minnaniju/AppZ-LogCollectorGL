app:
  name: LogCollectorGL
  code: LCGL
  notify: mniju@ecloudcontrol.com

build:
  version: 3.1
  env: DEV
  build_file: none
  output_files: output/*.zip
  image_template: graylog-3.1
  image_name: alpha/log-collector-gl

deploy:
  context: minnaniju/DEV
  replicas: 1
  port:
  - 9000
  - 12201

volumes:
- claim: graylog-data
  mount: /usr/share/graylog/data/journal
  name: graylog-data

monitor:
  notify: appzops@cloudbourne.co      

properties:
  revision : 25
  GRAYLOG_MONGODB_URI : mongodb://appz-logcollectordb-3-1:27017/graylog  
  GRAYLOG_ELASTICSEARCH_HOSTS : http://appz-logcollectores-3-1:9200/
  GRAYLOG_ELASTICSEARCH_DISCOVERY_ENABLED : false
  GRAYLOG_ROOT_PASSWORD_SHA2 : aee6e0898de4b1316dabd00451ebeb3ec9e7fd9c03520497eff2b0a29bfdc776
  GRAYLOG_TRANSPORT_EMAIL_HOSTNAME: smtp.gmail.com
  GRAYLOG_TRANSPORT_EMAIL_PORT: 465
  GRAYLOG_TRANSPORT_EMAIL_USE_AUTH: true
  GRAYLOG_TRANSPORT_EMAIL_USE_TLS: false
  GRAYLOG_TRANSPORT_EMAIL_USE_SSL: true
  GRAYLOG_TRANSPORT_EMAIL_AUTH_USERNAME: sshajahan@ecloudcontrol.com
  GRAYLOG_TRANSPORT_EMAIL_AUTH_PASSWORD:
    vault: GRAYLOG_TRANSPORT_EMAIL_AUTH_PASSWORD
  GRAYLOG_TRANSPORT_EMAIL_SUBJECT_PREFIX: [graylog]
  GRAYLOG_TRANSPORT_EMAIL_FROM_EMAIL: sshajahan@ecloudcontrol.com
